PROMPT 2 â€” Struttura reale del workspace frontend e responsabilitÃ  architetturali
Contesto generale (OBBLIGATORIO)

Stai lavorando su un frontend modulare, con componenti JavaScript condivisi, giÃ  utilizzati in piÃ¹ pagine e piÃ¹ ruoli (user / admin).
Lâ€™architettura Ã¨ component-based ma page-orchestrated.

La struttura reale e vincolante del progetto Ã¨ la seguente:

resources/
â”œâ”€â”€ css
â”œâ”€â”€ js
â”‚   â”œâ”€â”€ components
â”‚   â”œâ”€â”€ config
â”‚   â”œâ”€â”€ mockup
â”‚   â”œâ”€â”€ pages
â”‚   â””â”€â”€ utils
â””â”€â”€ views


Questa struttura NON va modificata, NON va reinterpretata, NON va rifattorizzata.

PRINCIPIO ARCHITETTURALE FONDAMENTALE (NON NEGOZIABILE)
I componenti sono AGNOSTICI

I componenti vivono esclusivamente in:

resources/js/components/


Un componente:

non appartiene a una pagina

non appartiene a un ruolo

non contiene logica di business

non fa fetch

non conosce il backend

non gestisce navigazione

Un componente:

riceve dati (props)

emette eventi

renderizza UI

âŒ Ãˆ un errore concettuale grave:

creare admin/components

duplicare componenti per ruolo

legare un componente a una singola pagina

âœ… Un componente esiste una volta sola e viene riutilizzato ovunque serva.

COMPONENTI ESISTENTI (NON DA CREARE)

I seguenti componenti esistono giÃ  e DEVONO essere riutilizzati:

resources/js/components/
â”œâ”€â”€ topbar
â”œâ”€â”€ sidebar
â”œâ”€â”€ weekScheduler
â”œâ”€â”€ timeSlotCard
â”œâ”€â”€ timeSlotSelector
â”œâ”€â”€ activeOrderCard
â”œâ”€â”€ activeOrdersSection
â”œâ”€â”€ recentOrderCard
â”œâ”€â”€ selectedIngredientsSummary
â”œâ”€â”€ ordersHeader
â”œâ”€â”€ orderFormHeader
â”œâ”€â”€ ...


ğŸ‘‰ NON vanno:

rinominati

duplicati

spostati

specializzati per admin

DOVE VIVE LA NUOVA PAGINA ADMIN (WORK SERVICE)

La pagina NON introduce nuovi componenti condivisi.

La pagina vive solo come orchestratore sotto:

resources/js/pages/admin-work-service/


Se la cartella non esiste:

va creata solo come pagina

non come dominio di componenti

FILE CHE DEVONO ESISTERE IN admin-work-service/
1ï¸âƒ£ index.js â€” Entry point della pagina

ResponsabilitÃ :

rilevare data-page="admin-work-service"

inizializzare la pagina

montare i componenti condivisi

coordinare il flusso generale

Vincoli:

âŒ non contiene HTML dei componenti

âŒ non contiene fetch diretti

âŒ non contiene logica di business

2ï¸âƒ£ state.js â€” Stato locale della pagina

ResponsabilitÃ :

giorno selezionato nello scheduler

time slot selezionato

ordine selezionato

snapshot dei dati del giorno

Regola fondamentale:

Il polling NON deve mai invalidare selezioni attive dellâ€™admin

Se arrivano nuovi dati:

si aggiornano solo le parti non selezionate

lo stato attuale resta stabile

3ï¸âƒ£ api.js â€” Comunicazione backend

ResponsabilitÃ :

fetch iniziale dati del giorno

polling ogni 5 secondi

richiesta di modifica stato ordine

Vincoli:

âŒ nessuna manipolazione DOM

âŒ nessuna logica di selezione

âŒ nessuna decisione UI

4ï¸âƒ£ render.js â€” Rendering orchestrato

ResponsabilitÃ :

leggere lo stato

decidere cosa mostrare

invocare i componenti condivisi con i dati corretti

Vincoli:

âŒ non muta lo stato

âŒ non fa fetch

5ï¸âƒ£ events.js â€” Event delegation

ResponsabilitÃ :

click su giorno scheduler

click su time slot

click su card ordine

cambio stato ordine

Vincoli:

âŒ non fa fetch

âŒ non renderizza direttamente

RELAZIONE PAGINA â†” COMPONENTI

La pagina:

compone i componenti

coordina i dati

gestisce lo stato

I componenti:

visualizzano

emettono eventi

non prendono decisioni

COSA Ãˆ VIETATO CREARE IN QUESTO STEP

âŒ Nuovi componenti sotto components/
âŒ Folder tipo adminComponents
âŒ Varianti di componenti esistenti
âŒ Refactor architetturali non richiesti

OBIETTIVO DI QUESTO PROMPT

Lâ€™IA di coding deve:

Confermare esplicitamente di aver compreso che:

components/ Ã¨ shared

i componenti sono agnostici

Elencare solo i file da creare in pages/admin-work-service/

Spiegare con precisione:

responsabilitÃ 

limiti

confini di ogni file

NON introdurre:

nuove strutture

nuovi pattern

nuove cartelle